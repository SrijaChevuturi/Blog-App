{"version":3,"file":"static/js/17.87af2854.chunk.js","mappings":"iLAsGA,QA/FA,WACE,IAAI,SAAEA,EAAQ,aAAEC,IAAiBC,EAAAA,EAAAA,OAC7B,YAAEC,IAAgBC,EAAAA,EAAAA,KACnBC,GAAUA,EAAMC,0BAEdC,EAAKC,IAAUC,EAAAA,EAAAA,UAAS,IACzBC,GAAWC,EAAAA,EAAAA,MACXC,EAAMC,aAAaC,QAAQ,SAE/B,MAAMC,EAAeC,EAAAA,EAAMC,OAAO,CAChCC,QAAQ,CAACC,cAAc,UAADC,OAAWR,MAqBnC,OACES,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uCAAsCC,UACnDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8BAA6BC,UAC1CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UAC1BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,2BAA0BC,SAAA,EAEvCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UACjEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,MAAKC,SAAC,wBAEpBC,EAAAA,EAAAA,MAAA,QAAMC,SAAUxB,GA5BLyB,UACrBC,EAAQC,eAAiB,IAAIC,KAC7BF,EAAQG,mBAAqB,IAAID,KACjCF,EAAQI,UAAYF,KAAKG,MACzBL,EAAQM,SAAW9B,EAAY8B,SAC/BN,EAAQO,SAAW,GACnBP,EAAQQ,QAAS,EAElB,IAAIC,QAAUrB,EAAesB,KAAK,2CAA2CV,GAC7EW,QAAQC,IAAIH,GACU,wBAAnBA,EAAII,KAAKC,QACX/B,EAAS,sCAADU,OAAuCjB,EAAY8B,WAE3DzB,EAAO4B,EAAII,KAAKC,QACjB,IAcwDlB,SAAA,EAC3CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOqB,QAAQ,QAAQpB,UAAU,aAAYC,SAAC,WAG9CF,EAAAA,EAAAA,KAAA,SACEsB,KAAK,OACLrB,UAAU,eACVsB,GAAG,WACC5C,EAAS,QAAQ,CAAC6C,UAAS,UAInCrB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOqB,QAAQ,WAAWpB,UAAU,aAAYC,SAAC,uBAGjDC,EAAAA,EAAAA,MAAA,aACMxB,EAAS,WAAW,CAAC6C,UAAS,IAClCD,GAAG,WACHtB,UAAU,cAAaC,SAAA,EAEvBF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,GAAEvB,SAAC,qBACjBF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,cAAavB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,QAAOvB,SAAC,WACtBF,EAAAA,EAAAA,KAAA,UAAQyB,MAAM,WAAUvB,SAAC,oBAG7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,SAAOqB,QAAQ,UAAUpB,UAAU,aAAYC,SAAC,aAGhDF,EAAAA,EAAAA,KAAA,eACMrB,EAAS,UAAU,CAAC+C,SAAQ,IAChCzB,UAAU,eACVsB,GAAG,UACHI,KAAK,WAIT3B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBF,EAAAA,EAAAA,KAAA,UAAQsB,KAAK,SAASrB,UAAU,kBAAiBC,SAAC,wBAWpE,C","sources":["components/add-article/AddArticle.js"],"sourcesContent":["import \"./AddArticle.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction AddArticle() {\r\n  let { register, handleSubmit } = useForm();\r\n  let { currentUser } = useSelector(\r\n    (state) => state.userAuthorLoginReducer\r\n  );\r\n  let [err, setErr] = useState(\"\");\r\n  let navigate = useNavigate();\r\n  let token=localStorage.getItem('token')\r\n  //create axios with token\r\n  const axiosWithToken=axios.create({\r\n    headers:{Authorization:`Bearer ${token}`}\r\n  })\r\n\r\n  const postNewArticle = async (article) => {\r\n    article.dateOfCreation = new Date();\r\n    article.dateOfModification = new Date();\r\n    article.articleId = Date.now();\r\n    article.username = currentUser.username;\r\n    article.comments = [];\r\n    article.status = true;\r\n   //make HTTP post req\r\n   let res=await axiosWithToken.post('http://localhost:4000/author-api/article',article)\r\n   console.log(res)\r\n   if(res.data.message==='New article created'){\r\n    navigate(`/author-profile/articles-by-author/${currentUser.username}`)\r\n   }else{\r\n    setErr(res.data.message)\r\n   }\r\n  };\r\n\r\n  //<p style=\"white-space: pre-line\">multi-line text</p>\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-center mt-5 mb-5\">\r\n        <div className=\"col-lg-8 col-md-8 col-sm-10\">\r\n          <div className=\"card shadow\">\r\n            <div className=\"form-container card-body\">\r\n              {/* {err.length!==0&&<p className='text-danger fs-5'>{err}</p>} */}\r\n              <div className=\"card-title text-center border-bottom border-dark\">\r\n              <h2 className=\"p-3\">Write an Article</h2>\r\n            </div>\r\n              <form onSubmit={handleSubmit(postNewArticle)}>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"title\" className=\"form-label\">\r\n                    Title\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    id=\"title\"\r\n                    {...register(\"title\",{required:true})}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"category\" className=\"form-label\">\r\n                    Select a category\r\n                  </label>\r\n                  <select\r\n                    {...register(\"category\",{required:true})}\r\n                    id=\"category\"\r\n                    className=\"form-select\"\r\n                  >\r\n                    <option value=\"\">Select category</option>\r\n                    <option value=\"programming\">Programming</option>\r\n                    <option value=\"AI&ML\">AI&ML</option>\r\n                    <option value=\"database\">Database</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"mb-4\">\r\n                  <label htmlFor=\"content\" className=\"form-label\">\r\n                    Content\r\n                  </label>\r\n                  <textarea\r\n                    {...register(\"content\",{require:true})}\r\n                    className=\"form-control\"\r\n                    id=\"content\"\r\n                    rows=\"10\"\r\n                  ></textarea>\r\n                </div>\r\n\r\n                <div className=\"text-end\">\r\n                  <button type=\"submit\" className=\"btn btn-primary\">\r\n                    Post\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddArticle;"],"names":["register","handleSubmit","useForm","currentUser","useSelector","state","userAuthorLoginReducer","err","setErr","useState","navigate","useNavigate","token","localStorage","getItem","axiosWithToken","axios","create","headers","Authorization","concat","_jsx","className","children","_jsxs","onSubmit","async","article","dateOfCreation","Date","dateOfModification","articleId","now","username","comments","status","res","post","console","log","data","message","htmlFor","type","id","required","value","require","rows"],"sourceRoot":""}